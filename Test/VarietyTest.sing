if(!defined(Scheme))
{
    LIB "scheme.lib";
}
killall();

ring R=0,(a,b),dp;
affVariety Xaff=ideal(0);
Xaff;

ring S=0,(x,y,z),dp;
affVariety Yaff=ideal(y-xz);
Yaff;

setring R;
affRatMap phi;
phi.preim=Xaff;
phi.im=Yaff;
phi.ratFuncs=list(makeratFunc(a),makeratFunc(a,b),makeratFunc(1,b));
phi;

affRatMap psi=Inverse(phi);
phi*psi;
psi*phi;
kill phi,psi;



setring R;
projVariety Xproj=ideal(0);
Xproj;

setring S;
projVariety Yproj=ideal(y2-xz);
Yproj;

setring R;
projRatMap phi;
phi.preim=Xproj;
phi.im=Yproj;
phi.ratFuncs=list(makePoly(a2),makePoly(ab),makePoly(b2));
phi;

projRatMap psi=Inverse(phi);
phi*psi;
psi*phi;
kill phi,psi,R,S;



/*ring R=0,(a,b,c,d),wp(2,3,4,3);
ideal I=a6-a3b2+b4,c3-d4;
product P1=makeProduct(I);
product P2=makeProduct(I,2,2);

I=a6-a4c+a2c2-c3,b4+b3d+b2d2-bd3-d4;
product P3=makeProduct(I,ac,bd);

product P=makeProduct(Xaff,P1,Yproj,P2,P3);*/